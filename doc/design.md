M2: Architectural Design, UML diagrams & Implementation Plan
=============================

##Problem Analysis##

###Abstraction###
- ข้อมูลส่วนตัวของสมาชิก ประกอบด้วยรูป, ชื่อ, ประวัติ และสูตรอาหารที่โพสเอาไว้
- จัดการสูตรอาหาร สมาชิกสามารถ เพิ่ม,แก้ไข หรือลบสูตรอาหารของตัวเอง โดยมีแบบฟอร์มให้กรอกเมื่อต้องการเพิ่มสูตรอาหาร
- จัดอันดับสูตรอาหาร มีการให้คะแนนสูตรอาหาร แล้วนำมาคำนวณ เพื่อแสดงผลในการค้นหา ตามลำดับคะแนน
- การค้นหาสูตรอาหาร เพื่อใช้ในการค้นหาสูตรอาหารที่ต้องการ จากส่วนต่างๆของเมนู ชื่อ สวนผสม โดยมีตัวกรองการค้นหา(Filter)
- การคำนวณแคลอรี่ ของสูตรอาหารที่ถูกโพสไว้ เพื่อให้ผู้ที่เข้ามาดูทราบปริมาณแคลอรี่ของสูตรอาหารนั้น
- การรายงานข้อผิดพลาดหรือความคิดเห็นจากผู้ใช้งาน เพื่อให้จัดการปรับปรุงระบบได้ง่ายชึ้น ตรงกับความต้องการของผู้ใช้งาน

###Component###
- ส่วนสมัครสมาชิก
- ส่วนเข้าสู่ระบบ
- ส่วนจัดการข้อมูลส่วนตัวของสมาชิก
- ส่วนแก้ไขข้อมูลส่วนตัว
- ส่วนยกเลิกบัญชีผู้ใช้
- ส่วนเพิ่มสูตรอาหาร
- ส่วนแก้ไขสูตรอาหาร
- ส่วนลบสูตรอาหาร
- ส่วนให้คะแนนสูตรอาหาร
- ส่วนจัดอันดับสูตรอาหาร
- ส่วนค้นหาสูตรอาหาร
- ส่วนคำนวณแคลอรี่ของสูตรอาหาร
- ส่วนรับรายงานข้อผิดพลาดจากผู้ใช้งาน (comment,report)

##Application Architecture##

####![Architecture](http://i.imgur.com/X92FtLw.png)
- ระบบจัดการบัญชีผู้ใช้งาน
    - ประกอบด้วยส่วนสมัครสมาชิก ส่วนเข้าสู่ระบบ ส่วนแก้ไขข้อมูลส่วนตัว ส่วนยกเลิกบัญชีผู้ใช้ โดยใช้ข้อมูลจากฐานข้อมูลสมาชิก และฐานข้อมูลสูตรอาหาร (เพื่อแสดงว่าผู้ใช้งานได้เพิ่มสูตรอาหารใดบ้าง)
- ระบบจัดการสูตรอาหาร 
    - ประกอบด้วยส่วนเพิ่มสูตรอาหาร ส่วนแก้ไขสูตรอาหาร ส่วนลบสูตรอาหาร ใช้ข้อมูลจากฐานข้อมูลสูตรอาหาร
- ระบบค้นหาสูตรอาหาร
    - ทำงานโดยส่วนค้นหาสูตรอาหาร ใช้ข้อมูลจากฐานข้อมูลสูตรอาหาร
- ระบบให้คะแนนสูตรอาหาร
    - ทำงานโดยส่วนให้คะแนนสูตรอาหาร ให้คะแนนลงในฐานข้อมูลสูตรอาหาร
- ระบบจัดอันดับสูตรอาหาร
    - ทำงานโดยส่วนจัดอันดับสูตรอาหาร จัดอันดับสูตรอาหารในฐานข้อมูลสูตรอาหาร
- ระบบคำนวณแคลอรี่สูตรอาหาร
    - ทำงานโดยส่วนคำนวณแคลอรี่ของสูตรอาหาร โดยใช้ข้อมูลจากฐานข้อมูลสูตรอาหาร และฐานข้อมูลแคลอรี่
- ระบบรายงานข้อผิดพลาดโดยผู้ใช้
    - ทำงานโดยส่วนรับรายงานข้อผิดพลาดจากผู้ใช้งาน และเก็บข้อมูลลงในบันทึกรายงานข้อผิดพลาดจากผู้ใช้ (Log file)
ช้งาน


##Subsystems / Components##

- ระบบจัดการบัญชีผู้ใช้งาน
    - ส่วนสมัครสมาชิก เก็บข้อมูลของผู้ใช้ไว้ในฐานข้อมูลสมาชิก
    - ส่วนเข้าสู่ระบบ เพื่อให้ผู้ใช้สามารถเข้าใช้งานในส่วนของสมาชิกได้
    - ส่วนแก้ไขข้อมูลส่วนตัว ใช้แก้ไขข้อมูลส่วนตัวของผู้ใช้ในฐานข้อมูลสมาชิก
    - ส่วนยกเลิกบัญชีผู้ใช้ สำหรับลบบัญชีผู้ใช้งาน
- ระบบจัดการสูตรอาหาร 
    - ส่วนเพิ่มสูตรอาหาร โดยผู้ใช้กรอกรายละเอียดตามแบบฟอร์มที่ระบบมีมาให้ (ประกอบด้วยชื่ออาหาร ประเภทของอาหาร วัตถุดิบ         ปริมาณของวัตถุดิบ วิธีทำเป็นขั้นตอน ภาพประกอบ)
    - ส่วนแก้ไขสูตรอาหาร ใช้ในการแก้ไขข้อมูลในสูตรอาหารที่มีอยู่แล้วในฐานข้อมูลสูตรอาหาร
    - ส่วนลบสูตรอาหาร สำหรับลบสูตรอาหารที่ผู้ใช้เพิ่มไว้ในฐานข้อมูลสูตรอาหาร
- ระบบค้นหาสูตรอาหาร
    - ส่วนค้นหาสูตรอาหาร ค้นหาสูตรอาหารโดยผ่านตัวกรองการค้นหา (Filter) เพื่อจำกัดผลการค้นหาให้ตรงกับสิ่งที่ผู้ใช้ต้องการค้น ค้นหาจากฐานข้อมูลสูตรอาหาร
- ระบบให้คะแนนสูตรอาหาร
    - ส่วนให้คะแนนสูตรอาหาร เมื่อผู้ใช้ต้องการให้คะแนนสูตรอาหารต่างๆ ระบบจะรับคะแนนจากผู้ใช้ มาคิดเป็นคะแนนเฉลี่ยของสูตร แล้วบันทึกคะแนนลงสูตรอาหาร ในฐานข้อมูลสูตรอาหาร
- ระบบจัดอันดับสูตรอาหาร
    - ส่วนจัดอันดับสูตรอาหาร จัดอันดับสูตรอาหารด้วยคะแนนของแต่ละสูตร ที่อยู่ในฐานข้อมูลสูตรอาหาร
- ระบบคำนวณแคลอรี่สูตรอาหาร 
    - ส่วนคำนวณแคลอรี่สูตรอาหาร นำปริมาณวัตถุดิบของสูตรอาหารต่างๆจากฐานข้อมูลสูตรอาหารมาคำนวณด้วยข้อมูลจากฐานข้อมูลแคลอรี่ และเก็บข้อมูลแคลอรี่ที่คำนวณได้ลงในฐานข้อมูลสูตรอาหาร
- ระบบรายงานข้อผิดพลาดโดยผู้ใช้
    - ผู้ใช้สามารถส่งข้อความถึงผู้ดูแล เป็นรายงานข้อผิดพลาดของระบบ ความคิดเห็น หรือข้อเสนอแนะ ระบบจะเก็บข้อความนี้ลงในบันทึกรายงานข้อผิดพลาดจากผู้ใช้ (Log file)
- ฐานข้อมูลสมาชิก 
    - ภายในจะเก็บข้อมูล ชื่อผู้ใช้งาน, รหัสผ่าน, ชื่อสมาชิก, ประวัติส่วนตัวของสมาชิก และสูตรอาหารที่สมาชิกเพิ่มไว้
- ฐานข้อมูลสูตรอาหาร
    - ภายในจะเก็บข้อมูลสูตรอาหารต่างๆที่ผู้ใช้เพิ่มไว้(ข้อมูลตามแบบฟอร์ม) รวมถึงความคิดเห็นจากผู้ใช้ท่านอื่นต่อสูตรอาหารนั้นๆ
- ฐานข้อมูลแคลอรี่ 
    - ภายในจะเก็บข้อมูลแคลอรี่ของวัตถุดิบต่างๆ ในรูปแบบปริมาณแคลอรี่ต่อหนึ่งหน่วย
- บันทึกรายงานข้อผิดพลาดจากผู้ใช้ (Log file)
    - เก็บข้อมูลความคิดเห็น รายงานข้อผิดพลาดจากผู้ใช้

##Domain classes##

####![Implementation Plan](http://i.imgur.com/b7YDYZh.png)

#### Business Model ของระบบ: ####
- user
- account
- report
- searchRecipe

#### Service Object ####
- CalorieCalculator
คำนวณปริมาณแคลลอรี่ของสูตรอาหาร โดยนำข้อมูลของส่วนผสมในสูตรอาหารนั้นมาคำนวณเปรียบเทียบกับข้อมูลใน Database
- Rate
การให้คะแนน(เพื่อจัดอันดับ)ในแต่ละครั้งนั้นให้คะแนนได้ตั้งแต่ 1-5 แล้วจะใช้จำนวนครั้งที่มีคนให้คะแนน(rateCount) เพื่อหาคะแนนเฉลี่ยมาแสดงในสูตรอาหาร
- RateSummary
ใช้ในการนำคะแนนของสูตรอาหารแต่ละสูตรมาจัดอันดับจากมากไปน้อย
- Recipe
เป็นสูตรอาหารที่เก็บข้อมูลเกี่ยวกับวิธีการทำอาหาร เช่น ส่วนผสม วิธีทำ ขั้นตอนการทำ ปริมาณแคลลอรี่ เพื่อที่นำส่วนต่างๆนี้มาใช้ในการกรอกข้อมูลสูตรอาหารของสมาชิกและค้นหาสูตรอาหารที่ผ

##Deployment##
- ใช้ VM 1 ตัว เป็น Ubuntu server 14.04 LTS
- ทำงานอยู่บน IP address 23.101.21.254
- Front-end
    - ใช้ Bootstrap เป็น Frontend Framework
    - HTML 5 เป็นโครงสร้างเบื้องต้น
    - CSS 3 เพื่อความสวยงาม
- Back-end
    - PHP 5.5
    - ใช้ Larave เป็น Framework ที่ใช้พัฒนา
    - SQL Azure Database

#Implementation Plan#
####![Implementation Plan](http://i.imgur.com/KUsK3Ew.jpg)
